<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FLOKOOB - APP DE ENTRENAMIENTO</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

  <!-- Config Firebase -->
  <script src="firebase-config.js"></script>
</head>
<body>
  <!-- Botón Modo Oscuro/Claro -->
  <button id="toggleModo" aria-label="Cambiar modo oscuro/claro">🌙 Oscuro</button>

  <!-- Pantalla de bienvenida -->
  <div id="pantallaBienvenida" class="pantalla">
    <div class="bienvenida-contenedor">
      <h1>FLOKOOB</h1>
      <p class="subtitulo-flokoob">APP DE ENTRENAMIENTO</p>
      <img class="logo-flokoob" src="https://i.imgur.com/YOq1Gza.png" alt="Logo Flokoob" />
    </div>
  </div>

  <!-- Pantalla principal -->
  <div id="pantallaGimnasio" class="pantalla hidden">
    <div class="gimnasio-contenedor">
      <div class="gimnasio-titulo">
        <img class="icon-corredor" src="https://i.imgur.com/6IWJ43U.png" alt="Icono corredor" />
        <h2>TROTADORES ELOY</h2>
      </div>
      <button id="btnIniciarSesion" class="btn-iniciar">Iniciar sesión</button>
      <form id="formLogin" class="form-login hidden">
        <input id="emailInput" type="email" placeholder="Correo electrónico" required />
        <input id="claveInput" type="password" placeholder="Clave" required />
        <button id="btnLogin" type="button">Entrar</button>
      </form>
    </div>
  </div>

  <!-- Pantalla perfil atleta -->
  <div id="pantallaPerfil" class="pantalla pantallaPerfil hidden">
    <div class="perfil-contenedor">
      <img id="fotoAtleta" src="https://via.placeholder.com/150?text=Sin+Foto" alt="Foto atleta" class="foto-perfil" />
      <div class="info-atleta">
        <h2 id="nombreAtleta">Atleta</h2>
        <p id="estadoPago"></p>
        <div class="botones-perfil">
          <button id="btnEntrenamientos">🏋️‍♂️ Entrenamientos</button>
          <button id="btnHistorial">📊 Historial</button>
          <button id="btnGPS">📍 Mapa GPS</button>
          <button id="btnPagoCuota">💰 Pagar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Pantalla perfil entrenador -->
  <div id="pantallaEntrenador" class="pantalla pantallaPerfil hidden">
    <h2>Panel del Entrenador</h2>
    <p>Próximamente: Rutinas, gestión de alumnos y análisis.</p>
    <button id="btnVolverInicio">Cerrar sesión</button>
  </div>

  <!-- Modal entrenamientos -->
  <div id="modalEntrenamientos" class="pantalla hidden">
    <h3>Entrenamientos</h3>
    <div id="listaEntrenamientos"></div>
    <button id="btnCerrarModal">Cerrar</button>
  </div>

  <!-- Pantalla historial -->
  <div id="pantallaHistorial" class="pantalla pantallaPerfil hidden">
    <h3>Historial de Carreras</h3>
    <table id="tablaCarreras" class="tabla-historial"></table>
    <form id="formCarrera">
      <input id="eventoInput" type="text" placeholder="Evento" required />
      <input id="distanciaInput" type="number" step="0.01" placeholder="Distancia km" required />
      <input id="tiempoInput" type="text" placeholder="HH:MM:SS" required />
      <button type="submit">Agregar carrera</button>
    </form>
    <button id="btnVolverPerfil2">Volver</button>
  </div>

  <!-- Modal pago -->
  <div id="modalPago" class="pantalla hidden">
    <div>
      <h2>Pago de Cuota</h2>
      <p><strong>Alias:</strong> desa2025</p>
      <p><strong>Monto:</strong> $20.000</p>
      <input type="file" id="inputComprobante" accept="image/*,.pdf" />
      <div id="mensajeComprobante"></div>
      <button id="btnEnviarComprobante" disabled>Enviar</button>
      <button id="btnCerrarPago">Cancelar</button>
    </div>
  </div>

  <!-- Zona GPS -->
  <div id="pantallaGPS" class="pantalla hidden">
    <h3>Recorrido en Tiempo Real</h3>
    <div id="mapa" style="width: 90vw; height: 70vh; border-radius: 15px;"></div>
    <button id="btnVolverPerfilGPS">Volver</button>
  </div>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>
</html>
